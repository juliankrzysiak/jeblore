---
import { getComics } from 'src/helper';
import ComicLayout from 'src/layouts/ComicLayout.astro';
import Layout from '../layouts/Layout.astro';

const comics = await getComics('desc');
const recentComic = comics.at(-1);
const penultimateComic = comics.at(-2);

if (!recentComic) throw new Error("Couldn't find comic");
const { title, image, imageAlt, date } = recentComic.data;
const previous = penultimateComic && `comics/${penultimateComic.id}`;
---

<Layout title={title}>
	<ComicLayout
		title={title}
		image={image}
		alt={imageAlt}
		date={date}
		previous={previous}
	/>
</Layout>
